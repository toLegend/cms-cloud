package com.cms.cmssetting.filter;import com.cms.cmssetting.exception.AuthenticationFailException;import com.cms.cmssetting.exception.CustomAccessDeniedException;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.http.SessionCreationPolicy;import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;import org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;import org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;@EnableResourceServer@Configurationpublic class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {    @Autowired    AuthenticationFailException authenticationFailException;    @Autowired    CustomAccessDeniedException customAccessDeniedException;    /**     * 配置     */    @Override    public void configure(HttpSecurity http) throws Exception {        http                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)                .and()                .requestMatchers()                .anyRequest()                .and()                .anonymous()                .and()                .authorizeRequests()                .antMatchers("/zjoauth/**").authenticated()        ;//配置order访问控制，必须认证过后才可以访问    }    @Override    public void configure(ResourceServerSecurityConfigurer resources) throws Exception {        resources.authenticationEntryPoint(authenticationFailException)                .accessDeniedHandler(customAccessDeniedException);    }}