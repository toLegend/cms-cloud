package com.cms.cmssetting.exception;import lombok.extern.slf4j.Slf4j;import org.codehaus.jackson.map.ObjectMapper;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.security.access.AccessDeniedException;import org.springframework.security.web.access.AccessDeniedHandler;import org.springframework.stereotype.Component;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.util.HashMap;import java.util.Map;@Slf4j@Componentpublic class CustomAccessDeniedException implements AccessDeniedHandler {    @Autowired    private ObjectMapper objectMapper;    @Override    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {        response.setContentType("application/json;charset=UTF-8");        Map map = new HashMap(16);        map.put("error", "400");        map.put("message", accessDeniedException.getMessage());        map.put("path", request.getServletPath());        map.put("timestamp", String.valueOf(System.currentTimeMillis()));        response.setContentType("application/json");        response.setStatus(HttpServletResponse.SC_BAD_REQUEST);        response.getWriter().write(objectMapper.writeValueAsString(map));    }}